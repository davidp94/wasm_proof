!function(e){var r={};function t(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(a,o,function(r){return e[r]}.bind(null,o));return a},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r){var t=new Worker("./worker.js");window.run_generate=function(){$("#spinner_generate").show(),t.postMessage({type:"generate",circuit:"dl"})},window.tree_run_generate=function(){$("#tree_spinner_generate").show();let e=$("#tree_txt_depth").val();t.postMessage({type:"generate",circuit:"tree",depth:e})},window.run_generate_save=function(){var e=$("<a />"),r=window.params;e.attr("download","dl.zkp").attr("href",URL.createObjectURL(new Blob([r],{type:"data:application/octet-stream"}))).appendTo("body").get(0).click()},window.tree_run_generate_save=function(){var e=$("<a />"),r=window.params;e.attr("download","tree.zkp").attr("href",URL.createObjectURL(new Blob([r],{type:"data:application/octet-stream"}))).appendTo("body").get(0).click()},window.run_generate_load=function(){$("#input_load_params").click()},window.tree_run_generate_load=function(){$("#tree_input_load_params").click()},window.run_prove=function(){$("#spinner_prove").show();let e=window.params,r=$("#txt_prove_x").val();t.postMessage({type:"prove",params:e,x:r,circuit:"dl"})},window.tree_run_prove=function(){$("#tree_spinner_prove").show();let e=window.params,r=$("#tree_txt_prove_x").val(),a=$("#tree_txt_depth").val();t.postMessage({type:"prove",params:e,x:r,circuit:"tree",depth:a})},window.run_verify=function(){$("#spinner_verify").show();let e=window.params,r=$("#txt_verify_proof").val(),a=$("#txt_verify_h").val();t.postMessage({type:"verify",params:e,proof:r,h:a,circuit:"dl"})},window.tree_run_verify=function(){$("#tree_spinner_verify").show();let e=window.params,r=$("#tree_txt_verify_proof").val(),a=$("#tree_txt_verify_h").val();t.postMessage({type:"verify",params:e,proof:r,h:a,circuit:"tree"})};let a=function(e){let r="";switch("tree"==e.data.circuit&&(r="tree_"),e.data.type){case"wasm_loaded":$(".spinner_wasm").hide();break;case"generate":if($("#"+r+"spinner_generate").hide(),e.data.error){e.data.error;$("#"+r+"tr_params").hide(),$("#"+r+"btn_save_to_file").hide(),$("#"+r+"td_params").text(""),$("#"+r+"tr_generate_error").show(),$("#"+r+"td_generate_error").text(e.data.error)}else{let t=e.data.result;window.params=t.params,$("#"+r+"tr_params").show(),$("#"+r+"btn_save_to_file").show(),$("#"+r+"td_params").text("Generated, size: "+Math.round(t.params.length/1024)+"kb"),$("#"+r+"div_prove_params").addClass("is-dirty"),$("#"+r+"txt_prove_params").val("Loaded from memory"),$("#"+r+"div_verify_params").addClass("is-dirty"),$("#"+r+"txt_verify_params").val("Loaded from memory"),"tree"==e.data.circuit&&($("#"+r+"div_prove_depth").addClass("is-dirty"),$("#"+r+"txt_prove_depth").val($("#"+r+"txt_depth").val())),$("#"+r+"tr_generate_error").hide(),console.log("generate time elapsed: "+t.millis)}$("#"+r+"table_generate").show();break;case"prove":if($("#"+r+"spinner_prove").hide(),e.data.error)$("#"+r+"tr_h").hide(),$("#"+r+"td_h").text(""),$("#"+r+"tr_proof").hide(),$("#"+r+"td_proof").text(""),$("#"+r+"tr_prove_error").show(),$("#"+r+"td_prove_error").text(e.data.error);else{var t=e.data.result;$("#"+r+"tr_h").show(),$("#"+r+"tr_proof").show(),$("#"+r+"td_h").text(t.h),$("#"+r+"td_proof").text(t.proof),$("#"+r+"div_verify_proof").addClass("is-dirty"),$("#"+r+"txt_verify_proof").val(t.proof),$("#"+r+"div_verify_h").addClass("is-dirty"),$("#"+r+"txt_verify_h").val(t.h),$("#"+r+"tr_prove_error").hide(),console.log("prove time elapsed: "+t.millis)}$("#"+r+"table_prove").show();break;case"verify":if($("#"+r+"spinner_verify").hide(),e.data.error)$("#"+r+"tr_result").hide(),$("#"+r+"td_result").text(""),$("#"+r+"tr_verify_error").show(),$("#"+r+"td_verify_error").text(e.data.error);else{let t=e.data.result;$("#"+r+"tr_result").show(),$("#"+r+"td_result").text(t.result),$("#"+r+"tr_verify_error").hide(),console.log("verify time elapsed: "+t.millis)}$("#"+r+"table_verify").show()}};t.addEventListener("message",a);var o=$("#input_load_params"),n=new FileReader;n.onload=function(e){a({data:{type:"generate",circuit:"dl",result:{params:e.target.result}}})},o.on("change",function(){var e=this.files[0];n.readAsText(e)});var i=$("#tree_input_load_params"),s=new FileReader;s.onload=function(e){a({data:{type:"generate",circuit:"tree",result:{params:e.target.result}}})},i.on("change",function(){var e=this.files[0];s.readAsText(e)})}]);